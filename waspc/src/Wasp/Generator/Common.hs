module Wasp.Generator.Common
  ( ProjectRootDir,
    nodeVersion,
    nodeVersionAsText,
    npmVersionAsText,
    prismaVersionAsText,
  )
where

import Text.Printf (printf)

-- | Directory where the whole web app project (client, server, ...) is generated.
data ProjectRootDir

-- | Node version that node packages generated by this generator expect.
--   (major, minor, patch)
nodeVersion :: (Int, Int, Int)
nodeVersion = (16, 0, 0) -- Latest LTS version.

nodeVersionAsText :: String
nodeVersionAsText = versionAsText nodeVersion

npmVersion :: (Int, Int, Int)
npmVersion = (8, 0, 0) -- Latest LTS version.

npmVersionAsText :: String
npmVersionAsText = versionAsText npmVersion

prismaVersion :: (Int, Int, Int)
prismaVersion = (3, 9, 1) -- Latest LTS version.

prismaVersionAsText :: String
prismaVersionAsText = versionAsText prismaVersion

versionAsText :: (Int, Int, Int) -> String
versionAsText (major, minor, patch) = printf "%d.%d.%d" major minor patch
